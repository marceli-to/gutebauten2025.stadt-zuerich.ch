(function(){const c={mobile:window.matchMedia("(max-width: 700px)"),smallScreen:window.matchMedia("(min-width: 700px)"),largeScreen:window.matchMedia("(min-width: 1024px)")};let o=2,n=47.37,s=8.53;c.mobile.matches?(o=1,n=47.375237643601906,s=8.53714336229832):c.largeScreen.matches?(o=3,n=47.38320885381473,s=8.5457634705359):c.smallScreen.matches&&(o=2,n=47.39210544462277,s=8.548022401252375);const i={epsg:"EPSG:2056",def:"+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs",resolutions:[67.7333333333,33.8666666667,16.9333333333,8.4666666667,4.2333333333,2.1166666667,1.0583333333,.5291666667,.2645833333,.1322916667,.0661458333],origin:[2480237,1315832],bounds:L.bounds([2480237,1062032],[2846837,1315832])},r=new L.Proj.CRS(i.epsg,i.def,{resolutions:i.resolutions,origin:i.origin}),d=L.latLng(47.31772500499832,8.451570615923625),g=L.latLng(47.515225463667726,8.645079458079913),u=L.latLngBounds(d,g),l=new L.Map("map",{tap:!1,crs:r,maxBounds:u,minZoom:o,maxZoom:8});console.log(r.options.resolutions.length),L.tileLayer("https://www.ogd.stadt-zuerich.ch/mapproxy/wmts/1.0.0/Basiskarte_Zuerich_Raster_Grau/default/ktzh/{z}/{y}/{x}.png",{maxZoom:8,minZoom:1,tileSize:512}).addTo(l),l.setView(L.latLng(n,s),o);const a=L.icon({iconUrl:"/assets/img/icons/marker.svg",iconSize:[30,44],iconAnchor:[15,35],popupAnchor:[0,-44]}),h=L.icon({iconUrl:"/assets/img/icons/marker-active.svg",iconSize:[30,44],iconAnchor:[15,35],popupAnchor:[0,-44]}),f={minWidth:240,maxWidth:"auto",autoPanPadding:[30,30]},w=`
    <div class="leaflet-popup-content-body">
      <a href="/%slug%" title="%title%">
        <img width="300" height="225" src="/assets/media/%slug%/%img%-map.jpg" alt="%title%">
      </a>
      <div class="leaflet-popup-content-body__text">
        <a href="/%slug%" class="icon-arrow-up" title="%title%">
          <h2><span>%title%</span></h2>
        </a>
      </div>
    </div>
  `,p=[];typeof _projects<"u"&&Array.isArray(_projects)&&_projects.forEach(t=>{let e=w;e=e.replaceAll("%title%",t.title),e=e.replace("%img%",t.slug),e=e.replaceAll("%slug%",t.slug);const k=L.marker([t.lat,t.lng],{icon:a}).on("click",_).addTo(l).bindPopup(e,f);p.push(k)});function _(t){m();const e=t.target;e.setIcon(e.options.icon===a?h:a),e.getPopup().on("remove",m)}function m(){p.forEach(t=>t.setIcon(a))}})();
